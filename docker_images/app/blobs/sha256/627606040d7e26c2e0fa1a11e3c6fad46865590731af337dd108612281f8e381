{"architecture":"amd64","config":{"User":"root","ExposedPorts":{"3000/tcp":{},"443/tcp":{},"5910/tcp":{},"5911/tcp":{},"5912/tcp":{},"5913/tcp":{},"5914/tcp":{},"5915/tcp":{},"5916/tcp":{},"5917/tcp":{},"5918/tcp":{},"5919/tcp":{},"5920/tcp":{},"5921/tcp":{},"5922/tcp":{},"5923/tcp":{},"5924/tcp":{},"5925/tcp":{},"5926/tcp":{},"5927/tcp":{},"5928/tcp":{},"5929/tcp":{},"5930/tcp":{},"80/tcp":{}},"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","LANG=C.utf8"],"Entrypoint":["entrypoint.sh"],"Cmd":["/bin/sh","-c","sudo -u foreman -EH /usr/share/foreman/bin/rails server"],"WorkingDir":"/usr/share/foreman","ArgsEscaped":true},"created":"2024-04-09T16:46:39.177950589+09:00","history":[{"created":"2024-04-05T11:46:40.554566953Z","created_by":"COPY / / # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-05T11:46:40.554566953Z","created_by":"ENV LANG=C.utf8","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-05T11:46:40.554566953Z","created_by":"CMD [\"/bin/bash\"]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:17:46.082995126+09:00","created_by":"RUN /bin/sh -c dnf upgrade -y \u0026\u0026   dnf -y install https://yum.puppet.com/puppet7-release-el-8.noarch.rpm \u0026\u0026   dnf -y install https://yum.theforeman.org/releases/3.7/el8/x86_64/foreman-release.rpm \u0026\u0026   dnf -y module enable foreman:el8 \u0026\u0026   dnf -y module enable redis:6 \u0026\u0026   dnf -y install       foreman-{selinux,postgresql,service,dynflow-sidekiq,redis,cli,ec2,libvirt,openstack,ovirt,vmware}       puppet-agent-oauth redis-6.2.7 httpd puppetserver mod_ssl       rubygem-hammer_cli_foreman_{ansible,puppet,webhooks}       rubygem-foreman{-tasks,_remote_execution,_acd,_ansible,_bootdisk,_dhcp_browser,_hooks,_puppet,_webhooks}       iproute jq nmap-ncat iputils cronie openssh-server sudo ipcalc rsyslog \u0026\u0026   dnf clean all \u0026\u0026   rm -rf /var/cache/yum # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:19:29.08701298+09:00","created_by":"USER root","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:19:29.08701298+09:00","created_by":"RUN /bin/sh -c rm -rfv /etc/puppetlabs /etc/httpd/* /etc/foreman/* # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:19:33.995548494+09:00","created_by":"COPY ./scripts/f39/entrypoint.sh /usr/bin/ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:34.069414347+09:00","created_by":"COPY ./configs/f39 /etc/ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:35.840622839+09:00","created_by":"COPY ./configs/proxy/bootImage/tftpboot.tar /root # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:36.311035353+09:00","created_by":"RUN /bin/sh -c sed -i -e 's/^SELINUX=.*/SELINUX=disabled/g' /etc/selinux/config \u0026\u0026     usermod -aG puppet foreman \u0026\u0026     chgrp foreman /etc/foreman/database.yml \u0026\u0026     chgrp foreman /etc/foreman/encryption_key.rb \u0026\u0026     chgrp foreman /etc/foreman/settings.yaml \u0026\u0026     chgrp foreman /etc/foreman/dynflow/* \u0026\u0026     chown apache:apache /etc/httpd/conf.modules.d/http2.conf \u0026\u0026     chown puppet:puppet /etc/puppetlabs.orig/puppetserver \u0026\u0026     chown puppet /etc/puppetlabs.orig/code/environments \u0026\u0026     chown puppet /etc/puppetlabs.orig/code/modules \u0026\u0026     chown puppet /etc/puppetlabs.orig/code/environments/common \u0026\u0026     chown puppet:puppet /etc/puppetlabs.orig/puppet/autosign.conf \u0026\u0026     chown puppet:puppet /etc/puppetlabs.orig/puppet/devices \u0026\u0026     chown puppet:puppet /etc/puppetlabs.orig/puppet/node.rb \u0026\u0026     chown -R puppet:puppet /etc/puppetlabs.orig/puppet/ssl \u0026\u0026     chgrp puppet /etc/puppetlabs.orig/puppet/foreman.yaml \u0026\u0026     chown -R puppet:puppet /etc/puppetlabs.orig/puppetserver/ca \u0026\u0026     chmod +x /usr/bin/entrypoint.sh # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:39.146205263+09:00","created_by":"RUN /bin/sh -c tar -xvf /root/tftpboot.tar -C /var/lib/ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:39.146205263+09:00","created_by":"ENTRYPOINT [\"entrypoint.sh\"]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"WORKDIR /usr/share/foreman","comment":"buildkit.dockerfile.v0"},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"CMD [\"/bin/sh\" \"-c\" \"sudo -u foreman -EH /usr/share/foreman/bin/rails server\"]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"EXPOSE map[3000/tcp:{}]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"EXPOSE map[5910/tcp:{} 5911/tcp:{} 5912/tcp:{} 5913/tcp:{} 5914/tcp:{} 5915/tcp:{} 5916/tcp:{} 5917/tcp:{} 5918/tcp:{} 5919/tcp:{} 5920/tcp:{} 5921/tcp:{} 5922/tcp:{} 5923/tcp:{} 5924/tcp:{} 5925/tcp:{} 5926/tcp:{} 5927/tcp:{} 5928/tcp:{} 5929/tcp:{} 5930/tcp:{}]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"EXPOSE map[80/tcp:{}]","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2024-04-09T16:46:39.177950589+09:00","created_by":"EXPOSE map[443/tcp:{}]","comment":"buildkit.dockerfile.v0","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:e144180fbe5df424477007f340313450c4fe8981b46f22d3151f9c221123d0b9","sha256:27741d44026ff5b4abda7ab590453d24d3f37fb46bdbb4759a1a274634928472","sha256:f671388ece98a10a9ec088cb9fc9c4c88caa459793e4a2cffdf4de4b0bc84b6d","sha256:fe5f28ddf8a888734b9eb47f7d3e0ac8ab1e18eb36f3f28c2e7840ade7babaf6","sha256:f290d346f1194259853880c1957f8dd40de280c1b83f51db400172073103ddb6","sha256:f0f333e3bfd0a6a077e4e852a4677416273f20957d1982a818652d1bb1a17c68","sha256:e64a8fa0c694a519a89addfbb19f818393510b9be82ddcd36e27969f9d9ba90c","sha256:e210329429bd96e87f0a43a5ccd71b89f851f24b5852330eae3bfa5a2af70cb0","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef"]}}